model properties {
  id           String    @id @default(cuid())
  name         String
  description  String
  propertysize Int?
  isDeleted    Boolean   @default(false)
  showCase     Boolean   @default(false) //showcase as rentals
  // owners
  landlordId   String
  landlord     landlords @relation(fields: [landlordId], references: [id])
  agencyId     String?
  agency       agency?   @relation(fields: [agencyId], references: [id])
  agents       agents[]

  //marketValue
  marketValue Decimal? @default(0.00) @db.Decimal(18, 2)

  // time attributes
  yearBuilt DateTime?
  createdAt DateTime? @default(now())

  // address
  city     String
  state    String
  country  String
  zipcode  String
  location String?

  // visualizations
  images   String[]
  videourl String[]

  amenities            String[]
  // apartments
  totalApartments      Int?
  apartments           apartments[]
  ratings              Rating[]
  tenants              tenants[]
  applicant            application[]
  maintenance          maintenance[]
  reviews              reviews[]
  propertyDocument     propertyDocument[]
  bills                bills[]
  taskManagement       taskManagement[]
  inventoryManageMent  inventoryManageMent[]
  maintenanceWhitelist maintenanceWhitelist[]

  //transaction can be expenses incurred or income generated
  transactions Transaction[]
  Budget Budget[]
}

model propertyDocument {
  id          String   @id @default(cuid())
  name        String
  documentUrl String[]
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  apartmentsId String?
  apartments   apartments? @relation(fields: [apartmentsId], references: [id])
  propertyId   String?
  properties   properties? @relation(fields: [propertyId], references: [id])
  uploadedBy   String?
  users        users?      @relation(fields: [uploadedBy], references: [id])
}

model apartments {
  id                   String                         @id @default(cuid())
  code                 String
  name                 String
  size                 String // 2500sqf
  monthlyRent          String
  minLeaseDuration     String
  maxLeaseDuration     String
  description          String
  sittingRoom          Int?
  waitingRoom          Int?
  bedrooms             Int?
  kitchen              Int?
  bathrooms            Int?
  garages              Int?
  floorplans           String[]
  facilities           String[]
  offices              Int?
  isVacant             Boolean                        @default(true)
  isDeleted            Boolean                        @default(false)
  rentalAmount         Decimal
  images               String[]
  videourl             String[]
  propertyId           String
  property             properties                     @relation(fields: [propertyId], references: [id])
  histories            appartmentTransactionHistory[]
  tenantPaymentHistory tenantPaymentHistory[]
  tenantsId            String?
  currentTenant        tenants?                       @relation(fields: [tenantsId], references: [id])
  maintenance          maintenance[]
  reviews              reviews[]
  propertyDocument     propertyDocument[]
  inventoryManageMent  inventoryManageMent[]
  maintenanceWhitelist maintenanceWhitelist[]
  transactions         Transaction[]
}
